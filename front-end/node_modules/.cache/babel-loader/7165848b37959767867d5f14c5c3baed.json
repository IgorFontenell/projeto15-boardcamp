{"ast":null,"code":"var _jsxFileName = \"/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/pages/NewRental.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport Select from 'react-select';\nimport { useHistory } from 'react-router-dom';\nimport PageContainer from '../components/PageContainer';\nimport Title from '../components/Form/Title';\nimport Input from '../components/Form/Input';\nimport Button from '../components/Form/Button';\nimport * as customersApi from '../services/api/customers';\nimport * as gamesApi from '../services/api/games';\nimport * as api from '../services/api/rentals';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function NewRental() {\n  _s();\n\n  const history = useHistory();\n  const [customers, setCustomers] = useState(null);\n  const [games, setGames] = useState(null);\n  const [chosenCustumer, setChosenCustomer] = useState(null);\n  const [chosenGame, setChosenGame] = useState(null);\n  const [rentDays, setRentDays] = useState(0);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    customersApi.list().then(customers => {\n      setCustomers(customers.map(c => ({\n        value: c.id,\n        label: `${c.name} - ${c.cpf.replace(/^(\\d{3})(\\d{3})(\\d{3})(\\d{2})$/, '$1.$2.$3-$4')}`\n      })));\n    }).catch(err => {\n      console.error(err);\n      alert('Não foi possível obter lista de clientes!');\n    });\n    gamesApi.list().then(games => {\n      setGames(games.map(g => ({\n        value: g.id,\n        label: g.name\n      })));\n    }).catch(err => {\n      console.error(err);\n      alert('Não foi possível obter lista de jogos!');\n    });\n  }, []);\n\n  function submit(event) {\n    event.preventDefault();\n    setLoading(true);\n    api.rent(chosenCustumer, chosenGame, rentDays).then(() => {\n      setLoading(false);\n      history.push('/rentals');\n    }).catch(err => {\n      console.error(err);\n      alert('Não foi possível alugar jogo!');\n      setLoading(false);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(PageContainer, {\n    title: \"Novo Aluguel\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submit,\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: \"Cliente\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        options: customers,\n        isLoading: customers === null,\n        placeholder: \"Selecione um cliente...\",\n        onChange: customer => setChosenCustomer(customer.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Title, {\n        children: \"Jogo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        options: games,\n        isLoading: games === null,\n        placeholder: \"Selecione um jogo...\",\n        onChange: game => setChosenGame(game.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Title, {\n        children: \"Quantidade de Dias\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"number\",\n        placeholder: \"Digite a quantidade de dias...\",\n        value: rentDays,\n        onChange: e => setRentDays(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        isLoading: loading,\n        children: \"Alugar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n\n_s(NewRental, \"gbpOAecikw8rn/feu0faW74U7/k=\", false, function () {\n  return [useHistory];\n});\n\n_c = NewRental;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewRental\");","map":{"version":3,"names":["useState","useEffect","Select","useHistory","PageContainer","Title","Input","Button","customersApi","gamesApi","api","NewRental","history","customers","setCustomers","games","setGames","chosenCustumer","setChosenCustomer","chosenGame","setChosenGame","rentDays","setRentDays","loading","setLoading","list","then","map","c","value","id","label","name","cpf","replace","catch","err","console","error","alert","g","submit","event","preventDefault","rent","push","customer","game","e","target"],"sources":["/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/pages/NewRental.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport Select from 'react-select';\nimport { useHistory } from 'react-router-dom';\n\nimport PageContainer from '../components/PageContainer';\n\nimport Title from '../components/Form/Title';\nimport Input from '../components/Form/Input';\nimport Button from '../components/Form/Button';\n\nimport * as customersApi from '../services/api/customers';\nimport * as gamesApi from '../services/api/games';\nimport * as api from '../services/api/rentals';\n\nexport default function NewRental () {\n  const history = useHistory();\n\n  const [customers, setCustomers] = useState(null);\n  const [games, setGames] = useState(null);\n\n  const [chosenCustumer, setChosenCustomer] = useState(null);\n  const [chosenGame, setChosenGame] = useState(null);\n  const [rentDays, setRentDays] = useState(0);\n\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    customersApi.list().then(customers => {\n      setCustomers(customers.map(c => ({ value: c.id, label: `${c.name} - ${c.cpf.replace(/^(\\d{3})(\\d{3})(\\d{3})(\\d{2})$/, '$1.$2.$3-$4')}` })));\n    }).catch(err => {\n      console.error(err);\n      alert('Não foi possível obter lista de clientes!');\n    });\n\n    gamesApi.list().then(games => {\n      setGames(games.map(g => ({ value: g.id, label: g.name })));\n    }).catch(err => {\n      console.error(err);\n      alert('Não foi possível obter lista de jogos!');\n    });\n  }, []);\n\n  function submit (event) {\n    event.preventDefault();\n\n    setLoading(true);\n    \n    api.rent(chosenCustumer, chosenGame, rentDays).then(() => {\n      setLoading(false);\n      history.push('/rentals');\n    }).catch(err => {\n      console.error(err);\n      alert('Não foi possível alugar jogo!');\n      setLoading(false);\n    });\n  }\n  \n  return (\n    <PageContainer title=\"Novo Aluguel\">\n      <form onSubmit={submit}>\n        <Title>Cliente</Title>\n        <Select options={customers} isLoading={customers === null} placeholder=\"Selecione um cliente...\" onChange={customer => setChosenCustomer(customer.value)} />\n\n        <Title>Jogo</Title>\n        <Select options={games} isLoading={games === null} placeholder=\"Selecione um jogo...\" onChange={game => setChosenGame(game.value)} />\n\n        <Title>Quantidade de Dias</Title>\n        <Input type=\"number\" placeholder=\"Digite a quantidade de dias...\" value={rentDays} onChange={e => setRentDays(e.target.value)} />\n\n        <Button isLoading={loading}>Alugar</Button>\n      </form>\n    </PageContainer>\n  )\n}\n"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AAEA,OAAOC,aAAP,MAA0B,6BAA1B;AAEA,OAAOC,KAAP,MAAkB,0BAAlB;AACA,OAAOC,KAAP,MAAkB,0BAAlB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AAEA,OAAO,KAAKC,YAAZ,MAA8B,2BAA9B;AACA,OAAO,KAAKC,QAAZ,MAA0B,uBAA1B;AACA,OAAO,KAAKC,GAAZ,MAAqB,yBAArB;;AAEA,eAAe,SAASC,SAAT,GAAsB;EAAA;;EACnC,MAAMC,OAAO,GAAGT,UAAU,EAA1B;EAEA,MAAM,CAACU,SAAD,EAAYC,YAAZ,IAA4Bd,QAAQ,CAAC,IAAD,CAA1C;EACA,MAAM,CAACe,KAAD,EAAQC,QAAR,IAAoBhB,QAAQ,CAAC,IAAD,CAAlC;EAEA,MAAM,CAACiB,cAAD,EAAiBC,iBAAjB,IAAsClB,QAAQ,CAAC,IAAD,CAApD;EACA,MAAM,CAACmB,UAAD,EAAaC,aAAb,IAA8BpB,QAAQ,CAAC,IAAD,CAA5C;EACA,MAAM,CAACqB,QAAD,EAAWC,WAAX,IAA0BtB,QAAQ,CAAC,CAAD,CAAxC;EAEA,MAAM,CAACuB,OAAD,EAAUC,UAAV,IAAwBxB,QAAQ,CAAC,KAAD,CAAtC;EAEAC,SAAS,CAAC,MAAM;IACdO,YAAY,CAACiB,IAAb,GAAoBC,IAApB,CAAyBb,SAAS,IAAI;MACpCC,YAAY,CAACD,SAAS,CAACc,GAAV,CAAcC,CAAC,KAAK;QAAEC,KAAK,EAAED,CAAC,CAACE,EAAX;QAAeC,KAAK,EAAG,GAAEH,CAAC,CAACI,IAAK,MAAKJ,CAAC,CAACK,GAAF,CAAMC,OAAN,CAAc,gCAAd,EAAgD,aAAhD,CAA+D;MAApG,CAAL,CAAf,CAAD,CAAZ;IACD,CAFD,EAEGC,KAFH,CAESC,GAAG,IAAI;MACdC,OAAO,CAACC,KAAR,CAAcF,GAAd;MACAG,KAAK,CAAC,2CAAD,CAAL;IACD,CALD;IAOA9B,QAAQ,CAACgB,IAAT,GAAgBC,IAAhB,CAAqBX,KAAK,IAAI;MAC5BC,QAAQ,CAACD,KAAK,CAACY,GAAN,CAAUa,CAAC,KAAK;QAAEX,KAAK,EAAEW,CAAC,CAACV,EAAX;QAAeC,KAAK,EAAES,CAAC,CAACR;MAAxB,CAAL,CAAX,CAAD,CAAR;IACD,CAFD,EAEGG,KAFH,CAESC,GAAG,IAAI;MACdC,OAAO,CAACC,KAAR,CAAcF,GAAd;MACAG,KAAK,CAAC,wCAAD,CAAL;IACD,CALD;EAMD,CAdQ,EAcN,EAdM,CAAT;;EAgBA,SAASE,MAAT,CAAiBC,KAAjB,EAAwB;IACtBA,KAAK,CAACC,cAAN;IAEAnB,UAAU,CAAC,IAAD,CAAV;IAEAd,GAAG,CAACkC,IAAJ,CAAS3B,cAAT,EAAyBE,UAAzB,EAAqCE,QAArC,EAA+CK,IAA/C,CAAoD,MAAM;MACxDF,UAAU,CAAC,KAAD,CAAV;MACAZ,OAAO,CAACiC,IAAR,CAAa,UAAb;IACD,CAHD,EAGGV,KAHH,CAGSC,GAAG,IAAI;MACdC,OAAO,CAACC,KAAR,CAAcF,GAAd;MACAG,KAAK,CAAC,+BAAD,CAAL;MACAf,UAAU,CAAC,KAAD,CAAV;IACD,CAPD;EAQD;;EAED,oBACE,QAAC,aAAD;IAAe,KAAK,EAAC,cAArB;IAAA,uBACE;MAAM,QAAQ,EAAEiB,MAAhB;MAAA,wBACE,QAAC,KAAD;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAEE,QAAC,MAAD;QAAQ,OAAO,EAAE5B,SAAjB;QAA4B,SAAS,EAAEA,SAAS,KAAK,IAArD;QAA2D,WAAW,EAAC,yBAAvE;QAAiG,QAAQ,EAAEiC,QAAQ,IAAI5B,iBAAiB,CAAC4B,QAAQ,CAACjB,KAAV;MAAxI;QAAA;QAAA;QAAA;MAAA,QAFF,eAIE,QAAC,KAAD;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAJF,eAKE,QAAC,MAAD;QAAQ,OAAO,EAAEd,KAAjB;QAAwB,SAAS,EAAEA,KAAK,KAAK,IAA7C;QAAmD,WAAW,EAAC,sBAA/D;QAAsF,QAAQ,EAAEgC,IAAI,IAAI3B,aAAa,CAAC2B,IAAI,CAAClB,KAAN;MAArH;QAAA;QAAA;QAAA;MAAA,QALF,eAOE,QAAC,KAAD;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAPF,eAQE,QAAC,KAAD;QAAO,IAAI,EAAC,QAAZ;QAAqB,WAAW,EAAC,gCAAjC;QAAkE,KAAK,EAAER,QAAzE;QAAmF,QAAQ,EAAE2B,CAAC,IAAI1B,WAAW,CAAC0B,CAAC,CAACC,MAAF,CAASpB,KAAV;MAA7G;QAAA;QAAA;QAAA;MAAA,QARF,eAUE,QAAC,MAAD;QAAQ,SAAS,EAAEN,OAAnB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAVF;IAAA;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAgBD;;GA3DuBZ,S;UACNR,U;;;KADMQ,S"},"metadata":{},"sourceType":"module"}