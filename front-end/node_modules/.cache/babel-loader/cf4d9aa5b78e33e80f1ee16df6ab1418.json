{"ast":null,"code":"import axios from 'axios';\nconst methods = ['get', 'post', 'put', 'delete'];\nconst axiosWrapper = {};\n\nconst queryStringBuilder = query => Object.keys(query).length ? '?' + Object.keys(query).map(k => `${k}=${query[k]}`).join('&') : '';\n\nconst instance = axios.create({\n  baseURL: 'http://localhost:4000'\n});\n\nfor (const method of methods) {\n  axiosWrapper[method] = async function (route, body) {\n    let query = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let complete = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n    try {\n      const url = `${route}${queryStringBuilder(query)}`;\n      const request = await instance({\n        method,\n        url,\n        data: body\n      });\n      return complete ? request : request.data;\n    } catch (err) {\n      console.error(err);\n      return Promise.reject(err.response);\n    }\n  };\n}\n\nexport default axiosWrapper;","map":{"version":3,"names":["axios","methods","axiosWrapper","queryStringBuilder","query","Object","keys","length","map","k","join","instance","create","baseURL","method","route","body","complete","url","request","data","err","console","error","Promise","reject","response"],"sources":["/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/services/api/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst methods = [\n  'get',\n  'post',\n  'put',\n  'delete'\n];\n\nconst axiosWrapper = {};\n\nconst queryStringBuilder = query => Object.keys(query).length ? '?' + Object.keys(query).map(k => `${k}=${query[k]}`).join('&') : '';\n\nconst instance = axios.create({\n  baseURL: 'http://localhost:4000'\n});\n\nfor (const method of methods) {\n  axiosWrapper[method] = async function (route, body, query = {}, complete = false) {\n    try {\n      const url = `${route}${queryStringBuilder(query)}`;\n\n      const request = await instance({\n        method,\n        url,\n        data: body\n      });\n\n      return complete ? request : request.data;\n    } catch (err) {\n      console.error(err);\n      return Promise.reject(err.response);\n    }\n  }\n}\n\nexport default axiosWrapper;\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,OAAO,GAAG,CACd,KADc,EAEd,MAFc,EAGd,KAHc,EAId,QAJc,CAAhB;AAOA,MAAMC,YAAY,GAAG,EAArB;;AAEA,MAAMC,kBAAkB,GAAGC,KAAK,IAAIC,MAAM,CAACC,IAAP,CAAYF,KAAZ,EAAmBG,MAAnB,GAA4B,MAAMF,MAAM,CAACC,IAAP,CAAYF,KAAZ,EAAmBI,GAAnB,CAAuBC,CAAC,IAAK,GAAEA,CAAE,IAAGL,KAAK,CAACK,CAAD,CAAI,EAA7C,EAAgDC,IAAhD,CAAqD,GAArD,CAAlC,GAA8F,EAAlI;;AAEA,MAAMC,QAAQ,GAAGX,KAAK,CAACY,MAAN,CAAa;EAC5BC,OAAO,EAAE;AADmB,CAAb,CAAjB;;AAIA,KAAK,MAAMC,MAAX,IAAqBb,OAArB,EAA8B;EAC5BC,YAAY,CAACY,MAAD,CAAZ,GAAuB,gBAAgBC,KAAhB,EAAuBC,IAAvB,EAA2D;IAAA,IAA9BZ,KAA8B,uEAAtB,EAAsB;IAAA,IAAlBa,QAAkB,uEAAP,KAAO;;IAChF,IAAI;MACF,MAAMC,GAAG,GAAI,GAAEH,KAAM,GAAEZ,kBAAkB,CAACC,KAAD,CAAQ,EAAjD;MAEA,MAAMe,OAAO,GAAG,MAAMR,QAAQ,CAAC;QAC7BG,MAD6B;QAE7BI,GAF6B;QAG7BE,IAAI,EAAEJ;MAHuB,CAAD,CAA9B;MAMA,OAAOC,QAAQ,GAAGE,OAAH,GAAaA,OAAO,CAACC,IAApC;IACD,CAVD,CAUE,OAAOC,GAAP,EAAY;MACZC,OAAO,CAACC,KAAR,CAAcF,GAAd;MACA,OAAOG,OAAO,CAACC,MAAR,CAAeJ,GAAG,CAACK,QAAnB,CAAP;IACD;EACF,CAfD;AAgBD;;AAED,eAAexB,YAAf"},"metadata":{},"sourceType":"module"}