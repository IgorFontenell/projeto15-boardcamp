[{"/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/index.js":"1","/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/App.js":"2","/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/components/NewRentalButton.js":"3","/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/components/Sidebar.js":"4","/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/pages/Rentals.js":"5","/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/components/View.js":"6","/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/pages/Categories.js":"7","/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/pages/Customers.js":"8","/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/pages/Games.js":"9","/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/pages/NewCategory.js":"10","/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/pages/NewRental.js":"11","/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/pages/NewCustomer.js":"12","/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/pages/NewGame.js":"13","/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/pages/Customer.js":"14","/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/components/RentalsTable.js":"15","/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/components/Form/Button.js":"16","/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/components/Table.js":"17","/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/components/Form/Title.js":"18","/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/components/Form/Input.js":"19","/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/components/Form/Editable.js":"20","/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/components/Loading.js":"21","/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/services/api/categories.js":"22","/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/services/api/rentals.js":"23","/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/services/api/customers.js":"24","/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/services/api/games.js":"25","/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/components/PageContainer.js":"26","/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/components/Button.js":"27","/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/services/api/api.js":"28","/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/components/PageTitle.js":"29"},{"size":271,"mtime":1624043384000,"results":"30","hashOfConfig":"31"},{"size":1785,"mtime":1624043384000,"results":"32","hashOfConfig":"31"},{"size":766,"mtime":1624043384000,"results":"33","hashOfConfig":"31"},{"size":1903,"mtime":1624043384000,"results":"34","hashOfConfig":"31"},{"size":763,"mtime":1624043384000,"results":"35","hashOfConfig":"31"},{"size":117,"mtime":1624043384000,"results":"36","hashOfConfig":"31"},{"size":913,"mtime":1624043384000,"results":"37","hashOfConfig":"31"},{"size":1535,"mtime":1624043384000,"results":"38","hashOfConfig":"31"},{"size":1234,"mtime":1624043384000,"results":"39","hashOfConfig":"31"},{"size":1000,"mtime":1624043384000,"results":"40","hashOfConfig":"31"},{"size":2489,"mtime":1624043384000,"results":"41","hashOfConfig":"31"},{"size":1714,"mtime":1624043384000,"results":"42","hashOfConfig":"31"},{"size":2289,"mtime":1624043384000,"results":"43","hashOfConfig":"31"},{"size":4065,"mtime":1624043384000,"results":"44","hashOfConfig":"31"},{"size":2300,"mtime":1624043384000,"results":"45","hashOfConfig":"31"},{"size":725,"mtime":1624043384000,"results":"46","hashOfConfig":"31"},{"size":3543,"mtime":1624043384000,"results":"47","hashOfConfig":"31"},{"size":200,"mtime":1624043384000,"results":"48","hashOfConfig":"31"},{"size":164,"mtime":1624043384000,"results":"49","hashOfConfig":"31"},{"size":674,"mtime":1624043384000,"results":"50","hashOfConfig":"31"},{"size":745,"mtime":1624043384000,"results":"51","hashOfConfig":"31"},{"size":172,"mtime":1624043384000,"results":"52","hashOfConfig":"31"},{"size":543,"mtime":1624043384000,"results":"53","hashOfConfig":"31"},{"size":487,"mtime":1624043384000,"results":"54","hashOfConfig":"31"},{"size":266,"mtime":1624043384000,"results":"55","hashOfConfig":"31"},{"size":447,"mtime":1624043384000,"results":"56","hashOfConfig":"31"},{"size":405,"mtime":1624043384000,"results":"57","hashOfConfig":"31"},{"size":786,"mtime":1624043384000,"results":"58","hashOfConfig":"31"},{"size":631,"mtime":1624043384000,"results":"59","hashOfConfig":"31"},{"filePath":"60","messages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1snp6ca",{"filePath":"62","messages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"88"},{"filePath":"89","messages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"93","messages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"97","messages":"98","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"99","messages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"101"},{"filePath":"102","messages":"103","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"104","messages":"105","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"106","messages":"107","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"108","messages":"109","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"110","messages":"111","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"112","messages":"113","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"114","messages":"115","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"116","messages":"117","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"118","messages":"119","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/index.js",[],"/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/App.js",[],"/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/components/NewRentalButton.js",[],"/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/components/Sidebar.js",[],"/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/pages/Rentals.js",[],"/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/components/View.js",[],"/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/pages/Categories.js",[],"/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/pages/Customers.js",[],"/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/pages/Games.js",[],"/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/pages/NewCategory.js",[],"/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/pages/NewRental.js",[],"/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/pages/NewCustomer.js",[],"/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/pages/NewGame.js",[],"/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/pages/Customer.js",["120"],"import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport styled from 'styled-components';\nimport dayjs from 'dayjs';\n\nimport PageContainer from '../components/PageContainer';\nimport Loading from '../components/Loading';\nimport RentalsTable from '../components/RentalsTable';\nimport Editable from '../components/Form/Editable';\n\nimport * as rentalsApi from '../services/api/rentals';\nimport * as api from '../services/api/customers';\n\nexport default function Customer () {\n  const params = useParams();\n  const id = +params.customerId;\n\n  const [customer, setCustomer] = useState(null);\n  const [rentals, setRentals] = useState(null);\n\n  useEffect(() => {\n    fetchCustomer();\n    fetchRentals();\n  }, [id]);\n\n  function fetchCustomer () {\n    api.getById(id).then(customer => {\n      setCustomer(customer);\n    }).catch(err => {\n      console.error(err);\n      alert('Não foi possível buscar dados do cliente!');\n    });\n  }\n\n  function fetchRentals () {\n    rentalsApi.list(id).then(rentals => {\n      setRentals(rentals);\n    }).catch(err => {\n      console.error(err);\n      alert('Não foi possível obter lista de alugéis do cliente!');\n    });\n  }\n\n  function updateBirthday (birthday) {\n    birthday = birthday.split('/').reverse().join('-');\n    update({ birthday });\n  }\n\n  function updatePhone (phone) {\n    phone = phone.replaceAll(' ', '').replaceAll('(', '').replaceAll(')', '').replaceAll('-', '');\n    update({ phone });\n  }\n\n  function updateName (name) {\n    update({ name });\n  }\n\n  function updateCPF (cpf) {\n    cpf = cpf.replaceAll('.', '').replaceAll('-', '');\n    update({ cpf });\n  }\n\n  function update({\n    id = customer.id,\n    name = customer.name,\n    phone = customer.phone,\n    cpf = customer.cpf,\n    birthday = customer.birthday\n  }) {\n    api.updateCustomer(id, name, phone, cpf, birthday).then(() => {\n      fetchCustomer();\n    }).catch(err => {\n      console.error(err);\n      alert('Não foi possível editar o cliente!');\n      fetchCustomer();\n    });\n  }\n\n  if (!customer) return <Loading />;\n\n  return (\n    <PageContainer title={`Cliente - ${customer.name}`}>\n      <SectionTitle>\n        Informações de {customer.name}\n      </SectionTitle>\n\n      <div style={{ fontSize: '12px', color: '#BBB', marginBottom: '10px' }}>Clique num dado para editá-lo</div>\n\n      <Container>\n        <Info>\n          <Title>Nome:</Title>\n          <Editable value={customer.name} onChange={updateName} />\n        </Info>\n\n        <Info>\n          <Title>Telefone:</Title>\n          <Editable\n            value={\n              customer.phone.length === 11\n              ? customer.phone.replace(/^(\\d{2})(\\d{5})(\\d{4})$/, '($1) $2-$3')\n              : customer.phone.replace(/^(\\d{2})(\\d{4})(\\d{4})$/, '($1) $2-$3')\n            }\n            onChange={updatePhone}\n          />\n        </Info>\n\n        <Info>\n          <Title>Aniversário:</Title>\n          <Editable value={dayjs(customer.birthday).format('DD/MM/YYYY')} onChange={updateBirthday} />\n        </Info>\n\n        <Info>\n          <Title>CPF:</Title>\n          <Editable value={customer.cpf.replace(/^(\\d{3})(\\d{3})(\\d{3})(\\d{2})$/, '$1.$2.$3-$4')} onChange={updateCPF} />\n        </Info>\n      </Container>\n\n      <SectionTitle>\n        Aluguéis de {customer.name}\n      </SectionTitle>\n\n      <RentalsTable rentals={rentals} onAction={fetchRentals} isLoading={rentals === null} height=\"400px\" />\n    </PageContainer>\n  )\n}\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Info = styled.div`\n  display: flex;\n  align-items: flex-end;\n  padding: 20px 0;\n\n  &:not(:last-child) {\n    border-bottom: 1px solid #EEE;\n  }\n\n  &:nth-child(odd) {\n    background-color: #F7F7F7;\n  }\n`;\n\nconst Title = styled.div`\n  font-size: 1.1em;\n  font-weight: bold;\n  margin-right: 4px;\n  width: 100px;\n  flex-shrink: 0;\n`;\n\nconst SectionTitle = styled.div`\n  font-size: 1.6em;\n  font-weight: bold;\n  margin: 20px 0;\n  padding-bottom: 16px;\n  border-bottom: 3px solid #111;\n  color: #111;\n  letter-spacing: 1px;\n`;\n","/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/components/RentalsTable.js",[],"/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/components/Form/Button.js",[],"/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/components/Table.js",[],"/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/components/Form/Title.js",[],"/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/components/Form/Input.js",[],"/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/components/Form/Editable.js",["121"],"import { useState, useEffect } from 'react';\n\nimport Input from './Input';\n\nexport default function Editable ({ value, onChange, children, ...props }) {\n  const [editing, setEditing] = useState(false);\n  const [state, setState] = useState(value);\n\n  useEffect(() => {\n    if (!editing) {\n      setState(value);\n    }\n  });\n\n  function onKeyPress (event) {\n    if (event.key === 'Enter') {\n      onChange(state);\n      setEditing(false);\n    }\n  }\n\n  return (\n    editing\n    ? <Input {...props} value={state} onChange={e => setState(e.target.value)} onKeyPress={onKeyPress} />\n    : <span style={{ cursor: 'pointer' }} onClick={() => setEditing(true)}>{state}</span>\n  );\n}\n","/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/components/Loading.js",[],"/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/services/api/categories.js",[],"/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/services/api/rentals.js",[],"/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/services/api/customers.js",[],"/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/services/api/games.js",[],"/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/components/PageContainer.js",[],"/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/components/Button.js",[],"/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/services/api/api.js",[],"/home/igor/Documentos/Projetos Driven/projeto15-boardcamp/front-end/src/components/PageTitle.js",[],{"ruleId":"122","severity":1,"message":"123","line":24,"column":6,"nodeType":"124","endLine":24,"endColumn":10,"suggestions":"125"},{"ruleId":"122","severity":1,"message":"126","line":9,"column":3,"nodeType":"127","endLine":9,"endColumn":12,"suggestions":"128"},"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'fetchCustomer' and 'fetchRentals'. Either include them or remove the dependency array.","ArrayExpression",["129"],"React Hook useEffect contains a call to 'setState'. Without a list of dependencies, this can lead to an infinite chain of updates. To fix this, pass [editing, value] as a second argument to the useEffect Hook.","Identifier",["130"],{"desc":"131","fix":"132"},{"desc":"133","fix":"134"},"Update the dependencies array to be: [fetchCustomer, fetchRentals, id]",{"range":"135","text":"136"},"Add dependencies array: [editing, value]",{"range":"137","text":"138"},[742,746],"[fetchCustomer, fetchRentals, id]",[320,320],", [editing, value]"]